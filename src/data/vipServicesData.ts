import { VIPService, ServiceRequest, Milestone } from '../types';

// ============ SERVICES VIP DISPONIBLES ============

export const vipServices: VIPService[] = [
  {
    id: 'service-1',
    type: 'verification-hors-baraka',
    name: 'Vérification Hors Baraka',
    description: 'Vérification physique d\'un bien immobilier avec rapport détaillé fourni au client. Notre équipe se déplace sur site pour inspecter le bien et vous fournit un rapport complet.',
    icon: 'search-check',
    zonePrices: [
      { zoneId: 'zone-1', zoneName: 'Dakar Centre', price: 75000 },
      { zoneId: 'zone-2', zoneName: 'Dakar Banlieue', price: 100000 },
      { zoneId: 'zone-3', zoneName: 'Thiès', price: 150000 },
      { zoneId: 'zone-4', zoneName: 'Mbour / Saly', price: 125000 },
      { zoneId: 'zone-5', zoneName: 'Autres régions', price: 200000 },
    ],
    isActive: true,
    createdAt: '2025-01-01T10:00:00Z',
    updatedAt: '2025-01-01T10:00:00Z',
  },
  {
    id: 'service-2',
    type: 'identification-bien',
    name: 'Identification de Bien',
    description: 'Géolocalisation précise du bien, documentation complète (photos, informations techniques), possibilité de sécurisation. Tarification variable selon la zone d\'intervention.',
    icon: 'map-pin',
    zonePrices: [
      { zoneId: 'zone-1', zoneName: 'Dakar Centre', price: 100000 },
      { zoneId: 'zone-2', zoneName: 'Dakar Banlieue', price: 125000 },
      { zoneId: 'zone-3', zoneName: 'Thiès', price: 175000 },
      { zoneId: 'zone-4', zoneName: 'Mbour / Saly', price: 150000 },
      { zoneId: 'zone-5', zoneName: 'Autres régions', price: 250000 },
    ],
    isActive: true,
    createdAt: '2025-01-01T10:00:00Z',
    updatedAt: '2025-01-01T10:00:00Z',
  },
  {
    id: 'service-3',
    type: 'plan-cadastral-nicad',
    name: 'Plan Cadastral avec NICAD',
    description: 'Obtention d\'un plan cadastral officiel avec numéro NICAD. Livraison en version numérique et physique. Document officiel reconnu par l\'administration.',
    icon: 'file-text',
    zonePrices: [
      { zoneId: 'zone-1', zoneName: 'Dakar Centre', price: 150000 },
      { zoneId: 'zone-2', zoneName: 'Dakar Banlieue', price: 175000 },
      { zoneId: 'zone-3', zoneName: 'Thiès', price: 200000 },
      { zoneId: 'zone-4', zoneName: 'Mbour / Saly', price: 185000 },
      { zoneId: 'zone-5', zoneName: 'Autres régions', price: 250000 },
    ],
    isActive: true,
    createdAt: '2025-01-01T10:00:00Z',
    updatedAt: '2025-01-01T10:00:00Z',
  },
  {
    id: 'service-4',
    type: 'achat-hors-baraka',
    name: 'Achat Hors Baraka',
    description: 'Mandat donné à Atoo Group pour acquérir un bien hors catalogue. Accompagnement complet dans le processus d\'achat : négociation, vérification juridique, sécurisation de la transaction.',
    icon: 'handshake',
    zonePrices: [
      { zoneId: 'zone-1', zoneName: 'Dakar Centre', price: 500000 },
      { zoneId: 'zone-2', zoneName: 'Dakar Banlieue', price: 450000 },
      { zoneId: 'zone-3', zoneName: 'Thiès', price: 400000 },
      { zoneId: 'zone-4', zoneName: 'Mbour / Saly', price: 425000 },
      { zoneId: 'zone-5', zoneName: 'Autres régions', price: 550000 },
    ],
    isActive: true,
    createdAt: '2025-01-01T10:00:00Z',
    updatedAt: '2025-01-01T10:00:00Z',
  },
];

// ============ DEMANDES DE SERVICE (MOCK) ============

export const serviceRequests: ServiceRequest[] = [
  {
    id: 'req-1',
    serviceId: 'service-1',
    serviceName: 'Vérification Hors Baraka',
    serviceType: 'verification-hors-baraka',
    clientId: 'client-vip-1',
    clientName: 'Amadou Diallo',
    status: 'en-cours',
    description: 'Je souhaite faire vérifier une villa située aux Almadies avant de procéder à l\'achat. Le vendeur me propose un prix de 350M FCFA. J\'ai besoin d\'un rapport détaillé sur l\'état du bien.',
    location: 'Almadies, près du Monument de la Renaissance',
    zoneId: 'zone-1',
    zoneName: 'Dakar Centre',
    price: 75000,
    documents: [
      {
        id: 'doc-1',
        name: 'Photos du bien.zip',
        type: 'other',
        url: '/documents/photos-bien.zip',
        size: '15 MB',
        uploadedAt: '2025-12-15T10:00:00Z',
      },
      {
        id: 'doc-2',
        name: 'Titre foncier.pdf',
        type: 'pdf',
        url: '/documents/titre-foncier.pdf',
        size: '2.5 MB',
        uploadedAt: '2025-12-15T10:05:00Z',
      },
    ],
    milestones: [
      {
        id: 'ms-1',
        serviceRequestId: 'req-1',
        title: 'Réception et analyse de la demande',
        description: 'La demande a été reçue et analysée par notre équipe. Les documents fournis sont complets.',
        status: 'terminee',
        order: 1,
        createdAt: '2025-12-16T09:00:00Z',
        updatedAt: '2025-12-16T14:00:00Z',
        createdBy: 'admin-1',
        documents: [],
        comments: [
          {
            id: 'comment-1',
            milestoneId: 'ms-1',
            authorId: 'admin-1',
            authorName: 'Service VIP',
            authorRole: 'admin',
            content: 'Demande validée. Nous allons procéder à la planification de la visite.',
            createdAt: '2025-12-16T14:00:00Z',
          },
        ],
        commentsEnabled: true,
        isProtected: true,
        protectedAt: '2025-12-16T14:00:00Z',
        protectedBy: 'admin-1',
        completedAt: '2025-12-16T14:00:00Z',
      },
      {
        id: 'ms-2',
        serviceRequestId: 'req-1',
        title: 'Visite sur site programmée',
        description: 'Notre technicien se rendra sur place le 20 décembre 2025 à 10h00 pour effectuer la vérification complète du bien.',
        status: 'terminee',
        order: 2,
        createdAt: '2025-12-17T10:00:00Z',
        updatedAt: '2025-12-20T15:00:00Z',
        createdBy: 'tech-1',
        documents: [],
        comments: [
          {
            id: 'comment-2',
            milestoneId: 'ms-2',
            authorId: 'client-vip-1',
            authorName: 'Amadou Diallo',
            authorRole: 'vip',
            content: 'Parfait, je serai disponible ce jour-là si besoin.',
            createdAt: '2025-12-17T12:00:00Z',
          },
        ],
        commentsEnabled: true,
        isProtected: false,
        completedAt: '2025-12-20T15:00:00Z',
      },
      {
        id: 'ms-3',
        serviceRequestId: 'req-1',
        title: 'Inspection en cours',
        description: 'Notre équipe effectue actuellement l\'inspection complète du bien. Vérification de la structure, des installations électriques, de la plomberie et de l\'environnement.',
        status: 'en-cours',
        order: 3,
        createdAt: '2025-12-20T15:30:00Z',
        updatedAt: '2025-12-20T15:30:00Z',
        createdBy: 'tech-1',
        documents: [
          {
            id: 'msdoc-1',
            name: 'Photos inspection - Partie 1.zip',
            type: 'other',
            url: '/documents/inspection-photos-1.zip',
            size: '25 MB',
            uploadedAt: '2025-12-20T16:00:00Z',
            uploadedBy: 'tech-1',
          },
        ],
        comments: [],
        commentsEnabled: true,
        isProtected: false,
        estimatedDuration: '3 jours',
      },
    ],
    assignedTechnicianId: 'tech-1',
    assignedTechnicianName: 'Moussa Ndiaye',
    createdAt: '2025-12-15T09:30:00Z',
    updatedAt: '2025-12-20T15:30:00Z',
    validatedAt: '2025-12-16T09:00:00Z',
    validatedBy: 'admin-1',
  },
  {
    id: 'req-2',
    serviceId: 'service-3',
    serviceName: 'Plan Cadastral avec NICAD',
    serviceType: 'plan-cadastral-nicad',
    clientId: 'client-vip-1',
    clientName: 'Amadou Diallo',
    status: 'terminee',
    description: 'J\'ai besoin du plan cadastral officiel avec NICAD pour mon terrain à Saly. C\'est pour finaliser la vente avec un acheteur.',
    location: 'Saly Portudal, Zone résidentielle',
    zoneId: 'zone-4',
    zoneName: 'Mbour / Saly',
    price: 185000,
    documents: [
      {
        id: 'doc-3',
        name: 'Acte de vente terrain.pdf',
        type: 'pdf',
        url: '/documents/acte-vente.pdf',
        size: '1.2 MB',
        uploadedAt: '2025-11-01T10:00:00Z',
      },
    ],
    milestones: [
      {
        id: 'ms-4',
        serviceRequestId: 'req-2',
        title: 'Demande validée',
        description: 'Votre demande de plan cadastral a été validée et transmise à notre service technique.',
        status: 'terminee',
        order: 1,
        createdAt: '2025-11-02T09:00:00Z',
        updatedAt: '2025-11-02T09:00:00Z',
        createdBy: 'admin-1',
        documents: [],
        comments: [],
        commentsEnabled: true,
        isProtected: true,
        protectedAt: '2025-11-02T09:00:00Z',
        protectedBy: 'admin-1',
        completedAt: '2025-11-02T09:00:00Z',
      },
      {
        id: 'ms-5',
        serviceRequestId: 'req-2',
        title: 'Dépôt de dossier au cadastre',
        description: 'Le dossier a été déposé auprès des services du cadastre pour obtention du plan officiel.',
        status: 'terminee',
        order: 2,
        createdAt: '2025-11-05T10:00:00Z',
        updatedAt: '2025-11-05T10:00:00Z',
        createdBy: 'tech-1',
        documents: [
          {
            id: 'msdoc-2',
            name: 'Récépissé dépôt.pdf',
            type: 'pdf',
            url: '/documents/recepisse.pdf',
            size: '500 KB',
            uploadedAt: '2025-11-05T11:00:00Z',
            uploadedBy: 'tech-1',
          },
        ],
        comments: [],
        commentsEnabled: true,
        isProtected: true,
        protectedAt: '2025-11-10T09:00:00Z',
        protectedBy: 'admin-1',
        completedAt: '2025-11-05T10:00:00Z',
      },
      {
        id: 'ms-6',
        serviceRequestId: 'req-2',
        title: 'Plan cadastral obtenu',
        description: 'Le plan cadastral officiel avec NICAD a été obtenu. Il est disponible en téléchargement et une copie physique vous sera envoyée.',
        status: 'terminee',
        order: 3,
        createdAt: '2025-11-20T14:00:00Z',
        updatedAt: '2025-11-20T14:00:00Z',
        createdBy: 'tech-1',
        documents: [
          {
            id: 'msdoc-3',
            name: 'Plan_Cadastral_NICAD_Saly.pdf',
            type: 'pdf',
            url: '/documents/plan-cadastral.pdf',
            size: '3.5 MB',
            uploadedAt: '2025-11-20T14:30:00Z',
            uploadedBy: 'tech-1',
          },
        ],
        comments: [
          {
            id: 'comment-3',
            milestoneId: 'ms-6',
            authorId: 'client-vip-1',
            authorName: 'Amadou Diallo',
            authorRole: 'vip',
            content: 'Merci beaucoup pour votre rapidité ! Document reçu.',
            createdAt: '2025-11-20T16:00:00Z',
          },
          {
            id: 'comment-4',
            milestoneId: 'ms-6',
            authorId: 'admin-1',
            authorName: 'Service VIP',
            authorRole: 'admin',
            content: 'Avec plaisir ! La copie physique sera expédiée demain.',
            createdAt: '2025-11-20T16:30:00Z',
          },
        ],
        commentsEnabled: true,
        isProtected: true,
        protectedAt: '2025-11-21T09:00:00Z',
        protectedBy: 'admin-1',
        completedAt: '2025-11-20T14:00:00Z',
      },
    ],
    assignedTechnicianId: 'tech-1',
    assignedTechnicianName: 'Moussa Ndiaye',
    createdAt: '2025-11-01T09:00:00Z',
    updatedAt: '2025-11-20T14:00:00Z',
    validatedAt: '2025-11-02T09:00:00Z',
    validatedBy: 'admin-1',
    completedAt: '2025-11-20T14:00:00Z',
  },
  {
    id: 'req-3',
    serviceId: 'service-2',
    serviceName: 'Identification de Bien',
    serviceType: 'identification-bien',
    clientId: 'client-vip-2',
    clientName: 'Fatou Sow',
    status: 'en-attente-validation',
    description: 'Je voudrais faire identifier un terrain que je souhaite acheter à Thiès. Le vendeur m\'a donné des coordonnées GPS mais je veux m\'assurer de la localisation exacte et des limites du terrain.',
    location: 'Thiès, quartier Diakhao',
    zoneId: 'zone-3',
    zoneName: 'Thiès',
    price: 175000,
    documents: [
      {
        id: 'doc-4',
        name: 'Coordonnees_GPS.txt',
        type: 'other',
        url: '/documents/coordonnees.txt',
        size: '1 KB',
        uploadedAt: '2026-01-08T10:00:00Z',
      },
    ],
    milestones: [],
    createdAt: '2026-01-08T09:30:00Z',
    updatedAt: '2026-01-08T09:30:00Z',
  },
  {
    id: 'req-4',
    serviceId: 'service-4',
    serviceName: 'Achat Hors Baraka',
    serviceType: 'achat-hors-baraka',
    clientId: 'client-vip-1',
    clientName: 'Amadou Diallo',
    status: 'refusee',
    description: 'Je souhaite acquérir une villa vue mer à Ngor. Budget maximum 800M FCFA.',
    location: 'Ngor, Dakar',
    zoneId: 'zone-1',
    zoneName: 'Dakar Centre',
    price: 500000,
    documents: [],
    milestones: [],
    createdAt: '2025-10-15T09:00:00Z',
    updatedAt: '2025-10-16T11:00:00Z',
    rejectionReason: 'Le budget indiqué est insuffisant pour le type de bien recherché dans cette zone. Nous vous suggérons d\'augmenter votre budget ou de considérer d\'autres quartiers.',
  },
];

// ============ ZONES D'INTERVENTION ============

export const interventionZones = [
  { id: 'zone-1', name: 'Dakar Centre', description: 'Plateau, Médina, Almadies, Ngor, Ouakam, Yoff' },
  { id: 'zone-2', name: 'Dakar Banlieue', description: 'Pikine, Guédiawaye, Parcelles Assainies, Keur Massar' },
  { id: 'zone-3', name: 'Thiès', description: 'Thiès ville et environs' },
  { id: 'zone-4', name: 'Mbour / Saly', description: 'Mbour, Saly, Somone, Ngaparou' },
  { id: 'zone-5', name: 'Autres régions', description: 'Saint-Louis, Ziguinchor, et autres régions du Sénégal' },
];

// ============ HELPER FUNCTIONS ============

export function getServiceById(serviceId: string): VIPService | undefined {
  return vipServices.find(s => s.id === serviceId);
}

export function getRequestsByClientId(clientId: string): ServiceRequest[] {
  return serviceRequests.filter(r => r.clientId === clientId);
}

export function getRequestsByStatus(status: ServiceRequest['status']): ServiceRequest[] {
  return serviceRequests.filter(r => r.status === status);
}

export function getPendingRequestsCount(): number {
  return serviceRequests.filter(r => r.status === 'en-attente-validation').length;
}

export function getActiveRequestsCount(): number {
  return serviceRequests.filter(r => r.status === 'en-cours' || r.status === 'acceptee').length;
}
